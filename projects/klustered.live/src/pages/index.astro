---
export const prerender = false;

import { css } from "styled-system/css";
import "../styles/global.css";
import NewsletterCTA from "@/components/newsletter/NewsletterCTA.astro";
import CompetitorRegistration from "@/components/compete/CompetitorRegistration.astro";

const heroStyles = css({
	minHeight: "100vh",
	display: "flex",
	flexDirection: "column",
	alignItems: "center",
	justifyContent: "center",
	background: "linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%)",
	position: "relative",
	overflow: "hidden",
	paddingBlock: "6rem",
	paddingInline: "1rem",
});

const gridOverlay = css({
	position: "absolute",
	inset: 0,
	backgroundImage: `
		linear-gradient(rgba(139, 92, 246, 0.03) 1px, transparent 1px),
		linear-gradient(90deg, rgba(139, 92, 246, 0.03) 1px, transparent 1px)
	`,
	backgroundSize: "60px 60px",
	pointerEvents: "none",
});

const glowOrb = css({
	position: "absolute",
	borderRadius: "50%",
	filter: "blur(100px)",
	opacity: 0.4,
	animation: "pulse 8s ease-in-out infinite",
});

const contentWrapper = css({
	position: "relative",
	zIndex: 10,
	textAlign: "center",
	maxWidth: "800px",
	width: "100%",
	display: "flex",
	flexDirection: "column",
	alignItems: "center",
});

const welcomeText = css({
	fontSize: "clamp(1rem, 3vw, 1.5rem)",
	fontWeight: 300,
	color: "#a78bfa",
	textTransform: "uppercase",
	letterSpacing: "0.3em",
	marginBottom: "1rem",
	animation: "fadeInUp 0.8s ease-out",
});

const mainHeading = css({
	fontSize: "clamp(3rem, 12vw, 10rem)",
	fontWeight: 900,
	lineHeight: 0.9,
	letterSpacing: "-0.02em",
	background: "linear-gradient(135deg, #ffffff 0%, #c4b5fd 50%, #8b5cf6 100%)",
	backgroundClip: "text",
	color: "transparent",
	marginBottom: "0.5rem",
	animation: "fadeInUp 0.8s ease-out 0.1s both",
});

const yearText = css({
	fontSize: "clamp(2rem, 8vw, 6rem)",
	fontWeight: 200,
	color: "#6366f1",
	letterSpacing: "0.2em",
	animation: "fadeInUp 0.8s ease-out 0.2s both",
});

const tagline = css({
	marginTop: "2rem",
	fontSize: "clamp(0.875rem, 2vw, 1.25rem)",
	color: "#94a3b8",
	maxWidth: "600px",
	textAlign: "center",
	lineHeight: 1.6,
	animation: "fadeInUp 0.8s ease-out 0.3s both",
});

const floatingParticle = css({
	position: "absolute",
	width: "4px",
	height: "4px",
	borderRadius: "50%",
	background: "#8b5cf6",
	animation: "float 20s linear infinite",
});

const ctaSection = css({
	width: "100%",
	display: "flex",
	flexDirection: "column",
	gap: "1rem",
	marginTop: "4rem",
	animation: "fadeInUp 0.8s ease-out 0.4s both",
});

const poweredBy = css({
	marginTop: "4rem",
	fontSize: "1.1rem",
	fontWeight: 600,
	color: "rgba(255, 255, 255, 0.9)",
	letterSpacing: "0.05em",
	textTransform: "uppercase",
	animation: "fadeInUp 0.8s ease-out 0.5s both",
});

const backgroundLogo = css({
	position: "absolute",
	top: "20%",
	left: "50%",
	transform: "translate(-50%, -50%)",
	maxWidth: "min(80vw, 600px)",
	height: "auto",
	opacity: 0.15,
	pointerEvents: "none",
	zIndex: 5,
});
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/x-icon" href="/favicon.ico" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png" />
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png" />
		<link rel="apple-touch-icon" sizes="192x192" href="/logo-192.png" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Klustered '26</title>
		<style>
			@keyframes pulse {
				0%, 100% { transform: scale(1); opacity: 0.4; }
				50% { transform: scale(1.1); opacity: 0.6; }
			}

			@keyframes fadeInUp {
				from {
					opacity: 0;
					transform: translateY(30px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			@keyframes float {
				0% {
					transform: translateY(100vh) rotate(0deg);
					opacity: 0;
				}
				10% {
					opacity: 1;
				}
				90% {
					opacity: 1;
				}
				100% {
					transform: translateY(-100vh) rotate(720deg);
					opacity: 0;
				}
			}
		</style>
	</head>
	<body>
		<main class={heroStyles}>
			<div class={gridOverlay}></div>

			<div class={glowOrb} style="width: 600px; height: 600px; background: #8b5cf6; top: -200px; left: -200px;"></div>
			<div class={glowOrb} style="width: 400px; height: 400px; background: #6366f1; bottom: -100px; right: -100px; animation-delay: -4s;"></div>
			<div class={glowOrb} style="width: 300px; height: 300px; background: #a855f7; top: 50%; left: 50%; transform: translate(-50%, -50%); animation-delay: -2s;"></div>

			<img src="/logo-exploding-helm.png" alt="" class={backgroundLogo} aria-hidden="true" />

			{Array.from({ length: 20 }).map((_, i) => (
				<div
					class={floatingParticle}
					style={`left: ${Math.random() * 100}%; animation-delay: ${Math.random() * 20}s; animation-duration: ${15 + Math.random() * 10}s;`}
				></div>
			))}

			<div class={contentWrapper}>
				<p class={welcomeText}>Welcome to</p>
				<h1 class={mainHeading}>Klustered</h1>
				<p class={yearText}>'26</p>
				<p class={tagline}>
					Where Kubernetes clusters meet their ultimate challenge.
					Live debugging. Real chaos. No safety nets.
				</p>

				<div class={ctaSection}>
					<CompetitorRegistration />
					<NewsletterCTA
						headline="Want to watch instead?"
						subtitle="Get notified about upcoming episodes and results."
						badge="Viewer Updates"
					/>
				</div>
				<p class={poweredBy}>Powered by Rawkode Academy</p>
			</div>
		</main>
	</body>
</html>
